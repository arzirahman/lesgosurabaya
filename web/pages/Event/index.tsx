import event from '../../assets/images/Explore/event.png';
import { useLocation } from "react-router-dom";
import { useState, Suspense, useEffect } from 'react';
import Footer from '../../components/Footer';
import EventCard from './EventCard';

export default function Event() {
    const location = useLocation();
    const [bannerLoaded, setBannerLoaded] = useState(false);
    const [currentBanner, setCurrentBanner] = useState<string | undefined>();

    const current = { banner: event, Component: EventCard };
    const BannerComponent = current?.Component;

    useEffect(() => {
        if (current?.banner) {
            setBannerLoaded(false);

            setTimeout(() => {
                setCurrentBanner(current.banner);
            }, 100);
        }
    }, []);

    useEffect(() => {
        window.scrollTo(0, 0);
    }, [location.pathname, location.search]);

    return (
        <div className="w-full flex flex-col overflow-hidden">
            <div className="w-full relative flex flex-col h-[558px] overflow-hidden">
                {currentBanner && (
                    <img
                        alt={'Event'}
                        src={currentBanner}
                        onLoad={() => setBannerLoaded(true)}
                        className={`object-cover w-full h-[860px] absolute object-center mt-[-300px] transition-opacity duration-300 ${bannerLoaded ? 'opacity-100' : 'opacity-0'
                            }`}
                    />
                )}
                <div className='absolute inset-0 w-full h-full bg-[rgba(0,0,0,0.3)]'></div>
                <div className='pt-[100px] w-full h-full max-w-[1440px] mx-auto z-[1] flex flex-col justify-center items-center text-white'>
                    <span className='font-semibold text-xl mb-6'>LESGOSURABAYA | Event</span>
                    <span className='font-extrabold text-[128px] mb-[100px] leading-[76px] text-shadow-lg'>Event</span>
                    <div className='flex font-semibold text-2xl justify-between gap-[40px] items-center'>
                        <span>SHARE</span>
                        <div className='flex gap-5 items-center'>
                            <a href={`https://wa.me/?text=${encodeURIComponent(window.location.href)}`} target="_blank" rel="noopener noreferrer">
                                <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fillRule="evenodd" clipRule="evenodd" d="M26.1297 21.4937C25.6838 21.2705 23.4917 20.192 23.083 20.043C22.6743 19.8942 22.3771 19.82 22.0798 20.2662C21.7826 20.7125 20.9281 21.7169 20.668 22.0144C20.408 22.312 20.1479 22.3494 19.702 22.126C19.2562 21.9029 17.8195 21.4321 16.1164 19.913C14.791 18.7307 13.8961 17.2707 13.6361 16.8243C13.3759 16.3779 13.6083 16.1366 13.8315 15.9143C14.0322 15.7145 14.2774 15.3935 14.5003 15.1331C14.7233 14.8729 14.7976 14.6868 14.9462 14.3893C15.0948 14.0917 15.0205 13.8314 14.909 13.6082C14.7976 13.3851 13.9059 11.1904 13.5344 10.2975C13.1724 9.42821 12.8048 9.54595 12.5311 9.53216C12.2714 9.51928 11.9738 9.51655 11.6766 9.51655C11.3794 9.51655 10.8963 9.62812 10.4876 10.0744C10.0789 10.5207 8.92712 11.5995 8.92712 13.794C8.92712 15.9888 10.5247 18.1088 10.7477 18.4064C10.9706 18.7041 13.8917 23.2076 18.3645 25.1389C19.4282 25.5983 20.2588 25.8726 20.9063 26.0781C21.9744 26.4175 22.9463 26.3696 23.7146 26.2548C24.5713 26.1269 26.3526 25.1762 26.7242 24.1348C27.0957 23.0931 27.0957 22.2004 26.9842 22.0144C26.8728 21.8285 26.5756 21.7169 26.1297 21.4937ZM17.9943 32.6018H17.9883C15.3268 32.6007 12.7166 31.8857 10.4394 30.5344L9.89778 30.213L4.2844 31.6855L5.7827 26.2124L5.43012 25.6512C3.9454 23.2899 3.16122 20.5606 3.16241 17.7581C3.1657 9.58066 9.81917 2.92776 18.0002 2.92776C21.9617 2.92909 25.6856 4.47386 28.4859 7.27733C31.2861 10.0807 32.8273 13.8071 32.8258 17.7701C32.8224 25.9482 26.169 32.6018 17.9943 32.6018ZM30.6171 5.1471C27.248 1.7742 22.7677 -0.0841607 17.9941 -0.0861206C8.15848 -0.0861206 0.153504 7.91836 0.149515 17.757C0.148255 20.9021 0.969884 23.9718 2.53153 26.678L0 35.9248L9.45952 33.4434C12.0659 34.8651 15.0005 35.6144 17.987 35.6154H17.9944C27.8289 35.6154 35.8346 27.61 35.8387 17.7713C35.8405 13.0033 33.9861 8.51999 30.6171 5.1471Z" fill="white" />
                                </svg>
                            </a>
                            <a href={`https://www.instagram.com/`} target="_blank" rel="noopener noreferrer">
                                <svg width="37" height="36" viewBox="0 0 37 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18.8638 0C13.9959 0 13.3856 0.0206331 11.4738 0.107861C9.56601 0.194947 8.26306 0.497899 7.12291 0.941013C5.94426 1.39907 4.94469 2.01194 3.94825 3.00838C2.95181 4.00482 2.33894 5.00439 1.88088 6.18304C1.43777 7.32312 1.13482 8.62607 1.04773 10.5339C0.960503 12.4456 0.939941 13.056 0.939941 17.9239C0.939941 22.7916 0.960503 23.402 1.04773 25.3138C1.13482 27.2216 1.43777 28.5245 1.88088 29.6646C2.33894 30.8432 2.95181 31.8428 3.94825 32.8393C4.94469 33.8358 5.94426 34.4486 7.12291 34.9067C8.26306 35.3497 9.56601 35.6528 11.4738 35.7398C13.3856 35.827 13.9959 35.8476 18.8638 35.8476C23.7316 35.8476 24.342 35.827 26.2537 35.7398C28.1615 35.6528 29.4645 35.3497 30.6045 34.9067C31.7832 34.4486 32.7828 33.8358 33.7793 32.8393C34.7757 31.8428 35.3886 30.8432 35.8466 29.6646C36.2897 28.5245 36.5927 27.2216 36.6797 25.3138C36.7669 23.402 36.7876 22.7916 36.7876 17.9239C36.7876 13.056 36.7669 12.4456 36.6797 10.5339C36.5927 8.62607 36.2897 7.32312 35.8466 6.18304C35.3886 5.00439 34.7757 4.00482 33.7793 3.00838C32.7828 2.01194 31.7832 1.39907 30.6045 0.941013C29.4645 0.497899 28.1615 0.194947 26.2537 0.107861C24.342 0.0206331 23.7316 0 18.8638 0ZM18.8638 3.22958C23.6496 3.22958 24.2165 3.2478 26.1065 3.33403C27.8541 3.41379 28.8031 3.70578 29.4347 3.95117C30.2714 4.27632 30.8684 4.66479 31.4956 5.29197C32.1229 5.91915 32.5113 6.5163 32.8364 7.35286C33.0819 7.98445 33.3739 8.9335 33.4535 10.6811C33.5398 12.5711 33.5581 13.138 33.5581 17.9239C33.5581 22.7097 33.5398 23.2766 33.4535 25.1666C33.3739 26.9141 33.0819 27.8632 32.8364 28.4948C32.5113 29.3314 32.1229 29.9285 31.4956 30.5557C30.8684 31.1829 30.2714 31.5713 29.4347 31.8965C28.8031 32.1419 27.8541 32.4339 26.1065 32.5136C24.2168 32.5998 23.65 32.6181 18.8638 32.6181C14.0776 32.6181 13.5108 32.5998 11.621 32.5136C9.87344 32.4339 8.92439 32.1419 8.2928 31.8965C7.45617 31.5713 6.85909 31.1829 6.23184 30.5557C5.60466 29.9285 5.21619 29.3314 4.89111 28.4948C4.64565 27.8632 4.35366 26.9141 4.2739 25.1666C4.18767 23.2766 4.16945 22.7097 4.16945 17.9239C4.16945 13.138 4.18767 12.5711 4.2739 10.6811C4.35366 8.9335 4.64565 7.98445 4.89111 7.35286C5.21619 6.5163 5.60466 5.91915 6.23184 5.29197C6.85909 4.66479 7.45617 4.27632 8.2928 3.95117C8.92439 3.70578 9.87344 3.41379 11.621 3.33403C13.511 3.2478 14.0779 3.22958 18.8638 3.22958Z" fill="white" />
                                    <path d="M18.8636 23.8985C15.5638 23.8985 12.8889 21.2235 12.8889 17.9239C12.8889 14.6241 15.5638 11.9492 18.8636 11.9492C22.1632 11.9492 24.8381 14.6241 24.8381 17.9239C24.8381 21.2235 22.1632 23.8985 18.8636 23.8985ZM18.8636 8.71973C13.7802 8.71973 9.65942 12.8405 9.65942 17.9239C9.65942 23.0072 13.7802 27.128 18.8636 27.128C23.9469 27.128 28.0677 23.0072 28.0677 17.9239C28.0677 12.8405 23.9469 8.71973 18.8636 8.71973Z" fill="white" />
                                    <path d="M30.5822 8.35609C30.5822 9.54398 29.6192 10.5069 28.4313 10.5069C27.2435 10.5069 26.2805 9.54398 26.2805 8.35609C26.2805 7.16819 27.2435 6.20526 28.4313 6.20526C29.6192 6.20526 30.5822 7.16819 30.5822 8.35609Z" fill="white" />
                                </svg>
                            </a>
                            <a href={`https://www.tiktok.com`} target="_blank" rel="noopener noreferrer">
                                <svg width="33" height="36" viewBox="0 0 33 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M32.332 14.6969C29.2412 14.7043 26.2261 13.743 23.7128 11.9488V24.4619C23.7119 26.7795 23.0016 29.0415 21.6769 30.9456C20.3521 32.8497 18.476 34.3051 16.2994 35.1172C14.1228 35.9292 11.7495 36.0592 9.49688 35.4898C7.24422 34.9204 5.21955 33.6787 3.69361 31.9308C2.16768 30.1829 1.2132 28.012 0.957806 25.7085C0.702415 23.4049 1.15829 21.0786 2.26446 19.0404C3.37064 17.0022 5.07439 15.3494 7.14791 14.303C9.22142 13.2565 11.5659 12.8663 13.8677 13.1846V19.4782C12.8144 19.1478 11.6833 19.1577 10.636 19.5067C9.58863 19.8556 8.67862 20.5256 8.0359 21.421C7.39318 22.3165 7.05061 23.3916 7.05711 24.4928C7.06362 25.594 7.41886 26.665 8.07211 27.5528C8.72537 28.4407 9.64322 29.0999 10.6946 29.4365C11.746 29.7731 12.8771 29.7698 13.9265 29.427C14.9759 29.0842 15.8898 28.4195 16.5378 27.5279C17.1858 26.6362 17.5347 25.5631 17.5346 24.4619V0H23.7128C23.7085 0.520311 23.7522 1.03991 23.8434 1.55224C24.0581 2.69592 24.5044 3.78391 25.1552 4.74964C25.806 5.71538 26.6475 6.53857 27.6282 7.16885C29.0235 8.08892 30.6593 8.57931 32.332 8.57896V14.6969Z" fill="white" />
                                </svg>
                            </a>
                            <a href={`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`} target="_blank" rel="noopener noreferrer">
                                <svg width="17" height="36" viewBox="0 0 17 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M17 11.6047H11.3579V7.8851C11.3579 6.4882 12.279 6.16253 12.9277 6.16253C13.5749 6.16253 16.9093 6.16253 16.9093 6.16253V0.0215135L11.4258 0C5.33868 0 3.95343 4.58017 3.95343 7.51121V11.6047H0.433105V17.9327H3.95343C3.95343 26.0537 3.95343 35.8387 3.95343 35.8387H11.3579C11.3579 35.8387 11.3579 25.9573 11.3579 17.9327H16.3543L17 11.6047Z" fill="white" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div className='px-[70px] pb-[50px] w-full'>
                <div className='w-full max-w-[1440px] mx-auto flex flex-col pt-[44px] gap-[60px]'>
                    <Suspense fallback={<div>Loading...</div>}>
                        {BannerComponent ? <BannerComponent /> : <div>Kategori tidak ditemukan</div>}
                    </Suspense>
                </div>
            </div>

            <Footer />
        </div>
    );
}
