import { useState } from "react";

export interface IAccordion {
    name?: string;
    date?: string;
    location?: string;
    image?: string;
    id?: string;
    defaultChecked?: boolean;
}

export default function Accordion({ name, date, location, image, id, defaultChecked }: Readonly<IAccordion>) {
    const [loaded, setLoaded] = useState(false);

    return (
        <div className="rounded-[20px] h-[444px] overflow-hidden">
            <input type="radio" name="accordion" id={id} className="peer hidden" defaultChecked={defaultChecked} />
            <label htmlFor={id} className="flex items-end relative cursor-pointer w-[150px] h-full peer-checked:w-[500px] transition-all duration-300 pb-[20px] px-[40px]">
                {!loaded && (
                    <div className="absolute min-h-[444px] inset-0 min-w-[500px] ml-[-35px] mt-[-95px] bg-gray-300 animate-pulse z-[0]"></div>
                )}
                <img
                    alt={name}
                    src={image}
                    loading="lazy"
                    onLoad={() => setLoaded(true)}
                    onError={() => setLoaded(true)}
                    className={`absolute min-h-[444px] inset-0 object-cover min-w-[500px] object-top-left ml-[-35px] mt-[-95px] transition-opacity duration-300 ${loaded ? 'opacity-100' : 'opacity-0'}`}
                />
                <div className="absolute w-full h-full inset-0 bg-gradient-to-t from-[rgba(0,0,0,0.7)] to-[rgba(0,0,0,0)]"></div>
                <div className="flex flex-col text-white z-[1] min-w-[380px] max-w-[380px]">
                    <span className="font-extrabold text-2xl">{name}</span>
                    <div className="flex items-center gap-1">
                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clipPath="url(#clip0_273_1617)">
                                <path d="M11.6667 1.16667H11.0833V0.583333C11.0833 0.428624 11.0219 0.280251 10.9125 0.170854C10.8031 0.0614582 10.6547 0 10.5 0C10.3453 0 10.1969 0.0614582 10.0875 0.170854C9.97812 0.280251 9.91667 0.428624 9.91667 0.583333V1.16667H4.08333V0.583333C4.08333 0.428624 4.02187 0.280251 3.91248 0.170854C3.80308 0.0614582 3.65471 0 3.5 0C3.34529 0 3.19692 0.0614582 3.08752 0.170854C2.97812 0.280251 2.91667 0.428624 2.91667 0.583333V1.16667H2.33333C1.71449 1.16667 1.121 1.4125 0.683417 1.85008C0.245833 2.28767 0 2.88116 0 3.5L0 11.6667C0 12.2855 0.245833 12.879 0.683417 13.3166C1.121 13.7542 1.71449 14 2.33333 14H11.6667C12.2855 14 12.879 13.7542 13.3166 13.3166C13.7542 12.879 14 12.2855 14 11.6667V3.5C14 2.88116 13.7542 2.28767 13.3166 1.85008C12.879 1.4125 12.2855 1.16667 11.6667 1.16667ZM12.8333 11.6667C12.8333 11.9761 12.7104 12.2728 12.4916 12.4916C12.2728 12.7104 11.9761 12.8333 11.6667 12.8333H2.33333C2.02391 12.8333 1.72717 12.7104 1.50838 12.4916C1.28958 12.2728 1.16667 11.9761 1.16667 11.6667V3.5C1.16667 3.19058 1.28958 2.89383 1.50838 2.67504C1.72717 2.45625 2.02391 2.33333 2.33333 2.33333H2.91667V2.91667C2.91667 3.07138 2.97812 3.21975 3.08752 3.32915C3.19692 3.43854 3.34529 3.5 3.5 3.5C3.65471 3.5 3.80308 3.43854 3.91248 3.32915C4.02187 3.21975 4.08333 3.07138 4.08333 2.91667V2.33333H9.91667V2.91667C9.91667 3.07138 9.97812 3.21975 10.0875 3.32915C10.1969 3.43854 10.3453 3.5 10.5 3.5C10.6547 3.5 10.8031 3.43854 10.9125 3.32915C11.0219 3.21975 11.0833 3.07138 11.0833 2.91667V2.33333H11.6667C11.9761 2.33333 12.2728 2.45625 12.4916 2.67504C12.7104 2.89383 12.8333 3.19058 12.8333 3.5V11.6667Z" fill="white" />
                                <path d="M11.0833 4.08325H2.91667C2.76196 4.08325 2.61359 4.14471 2.50419 4.25411C2.39479 4.3635 2.33334 4.51188 2.33334 4.66659C2.33334 4.82129 2.39479 4.96967 2.50419 5.07906C2.61359 5.18846 2.76196 5.24992 2.91667 5.24992H11.0833C11.238 5.24992 11.3864 5.18846 11.4958 5.07906C11.6052 4.96967 11.6667 4.82129 11.6667 4.66659C11.6667 4.51188 11.6052 4.3635 11.4958 4.25411C11.3864 4.14471 11.238 4.08325 11.0833 4.08325Z" fill="white" />
                                <path d="M4.08334 7H2.91667C2.76196 7 2.61359 7.06146 2.50419 7.17085C2.39479 7.28025 2.33334 7.42862 2.33334 7.58333C2.33334 7.73804 2.39479 7.88642 2.50419 7.99581C2.61359 8.10521 2.76196 8.16667 2.91667 8.16667H4.08334C4.23805 8.16667 4.38642 8.10521 4.49581 7.99581C4.60521 7.88642 4.66667 7.73804 4.66667 7.58333C4.66667 7.42862 4.60521 7.28025 4.49581 7.17085C4.38642 7.06146 4.23805 7 4.08334 7Z" fill="white" />
                                <path d="M4.08334 9.91675H2.91667C2.76196 9.91675 2.61359 9.97821 2.50419 10.0876C2.39479 10.197 2.33334 10.3454 2.33334 10.5001C2.33334 10.6548 2.39479 10.8032 2.50419 10.9126C2.61359 11.022 2.76196 11.0834 2.91667 11.0834H4.08334C4.23805 11.0834 4.38642 11.022 4.49581 10.9126C4.60521 10.8032 4.66667 10.6548 4.66667 10.5001C4.66667 10.3454 4.60521 10.197 4.49581 10.0876C4.38642 9.97821 4.23805 9.91675 4.08334 9.91675Z" fill="white" />
                                <path d="M7.58334 7H6.41667C6.26196 7 6.11359 7.06146 6.00419 7.17085C5.89479 7.28025 5.83334 7.42862 5.83334 7.58333C5.83334 7.73804 5.89479 7.88642 6.00419 7.99581C6.11359 8.10521 6.26196 8.16667 6.41667 8.16667H7.58334C7.73805 8.16667 7.88642 8.10521 7.99581 7.99581C8.10521 7.88642 8.16667 7.73804 8.16667 7.58333C8.16667 7.42862 8.10521 7.28025 7.99581 7.17085C7.88642 7.06146 7.73805 7 7.58334 7Z" fill="white" />
                                <path d="M7.58334 9.91675H6.41667C6.26196 9.91675 6.11359 9.97821 6.00419 10.0876C5.89479 10.197 5.83334 10.3454 5.83334 10.5001C5.83334 10.6548 5.89479 10.8032 6.00419 10.9126C6.11359 11.022 6.26196 11.0834 6.41667 11.0834H7.58334C7.73805 11.0834 7.88642 11.022 7.99581 10.9126C8.10521 10.8032 8.16667 10.6548 8.16667 10.5001C8.16667 10.3454 8.10521 10.197 7.99581 10.0876C7.88642 9.97821 7.73805 9.91675 7.58334 9.91675Z" fill="white" />
                                <path d="M11.0833 7H9.91667C9.76196 7 9.61359 7.06146 9.50419 7.17085C9.39479 7.28025 9.33334 7.42862 9.33334 7.58333C9.33334 7.73804 9.39479 7.88642 9.50419 7.99581C9.61359 8.10521 9.76196 8.16667 9.91667 8.16667H11.0833C11.238 8.16667 11.3864 8.10521 11.4958 7.99581C11.6052 7.88642 11.6667 7.73804 11.6667 7.58333C11.6667 7.42862 11.6052 7.28025 11.4958 7.17085C11.3864 7.06146 11.238 7 11.0833 7Z" fill="white" />
                                <path d="M11.0833 9.91675H9.91667C9.76196 9.91675 9.61359 9.97821 9.50419 10.0876C9.39479 10.197 9.33334 10.3454 9.33334 10.5001C9.33334 10.6548 9.39479 10.8032 9.50419 10.9126C9.61359 11.022 9.76196 11.0834 9.91667 11.0834H11.0833C11.238 11.0834 11.3864 11.022 11.4958 10.9126C11.6052 10.8032 11.6667 10.6548 11.6667 10.5001C11.6667 10.3454 11.6052 10.197 11.4958 10.0876C11.3864 9.97821 11.238 9.91675 11.0833 9.91675Z" fill="white" />
                            </g>
                            <defs>
                                <clipPath id="clip0_273_1617">
                                    <rect width="14" height="14" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                        <span className="font-semibold text-sm">{date}</span>
                    </div>
                    <div className="flex items-center gap-2">
                        <svg className="min-w-[12px]" width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6.20238 0C3.1897 0 0.746033 2.03775 0.746033 4.55C0.746033 7.9625 6.20238 13 6.20238 13C6.20238 13 11.6587 7.9625 11.6587 4.55C11.6587 2.03775 9.21507 0 6.20238 0ZM6.20238 6.175C5.1267 6.175 4.25369 5.447 4.25369 4.55C4.25369 3.653 5.1267 2.925 6.20238 2.925C7.27806 2.925 8.15108 3.653 8.15108 4.55C8.15108 5.447 7.27806 6.175 6.20238 6.175Z" fill="white" />
                        </svg>
                        <span className="font-semibold text-sm">{location}</span>
                    </div>
                </div>
            </label>
        </div>
    )
}